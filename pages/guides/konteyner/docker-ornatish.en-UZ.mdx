---
image: https://raw.githubusercontent.com/devops-journey-uz/assets/main/images/tutorials/container/docker-ornatish.png
description: "Linux serverlarga Docker o'rnatish"
---

import { Callout } from "nextra-theme-docs";
import { Tabs, TabList, Tab, TabPanel } from 'react-tabs';
import 'react-tabs/style/react-tabs.css';

# Linux serverlarga Docker o'rnatish

![docker o'rnatish](https://raw.githubusercontent.com/devops-journey-uz/assets/main/images/tutorials/container/docker-ornatish.png)

## Kirish

**Docker Engine** — bu konteynerlarni yaratish va boshqarish uchun ochiq kodli(open-source) platforma. U ilovalarni barcha dependency'lari bilan birga yengil, portativ konteynerlarga joylab, istalgan serverda bir xil ishlashini ta'minlaydi.

Ushbu qo'llanmada biz Docker Engine'ni rasmiy Docker repository orqali **Ubuntu**, **Debian**, **Fedora** va **RHEL** operatsion tizimlariga o'rnatamiz. Shuningdek, o'rnatishdan keyingi sozlashlar, yangilash va o'chirib tashlashni ham ko'rib chiqamiz.

<Callout type="warning" emoji="">
**Firewall haqida muhim eslatma**

Docker konteyner portlarini ochganda, bu portlar `ufw` yoki `firewalld` qoidalarini **chetlab o'tadi**. Ya'ni siz `ufw deny 8080` deb yozsangiz ham, Docker orqali ochilgan 8080 port tashqaridan kirish mumkin bo'lib qoladi.

Docker faqat `iptables-nft` va `iptables-legacy` bilan mos ishlaydi. `nft` bilan yaratilgan firewall qoidalari Docker o'rnatilgan tizimda ishlamaydi.

Batafsil: [Docker and ufw](https://docs.docker.com/network/packet-filtering-firewalls/)
</Callout>

## Docker Engine o'rnatish

<Tabs>
<TabList>
<Tab>**Ubuntu**</Tab>
<Tab>**Debian**</Tab>
<Tab>**Fedora**</Tab>
<Tab>**RHEL**</Tab>
</TabList>
<TabPanel>
## Ubuntu'ga Docker Engine o'rnatish

<Callout type="info" emoji="">
**OS talablari**

Docker Engine'ni o'rnatish uchun quyidagi **Ubuntu** versiyalarining **64 bitli** versiyasi kerak:

* **Ubuntu Questing 25.10**
* **Ubuntu Noble 24.04 (LTS)**
* **Ubuntu Jammy 22.04 (LTS)**

Qo'llab-quvvatlanadigan arxitekturalar: `x86_64` (`amd64`), `armhf`, `arm64`, `s390x`, `ppc64le` (`ppc64el`)
</Callout>

<Callout type="info" emoji="">
**Linux Mint** kabi Ubuntu-ga asoslangan distributivlarda Docker rasman qo'llab-quvvatlanmaydi (ishlashi mumkin, lekin kafolatlanmaydi).
</Callout>

### Eski versiyalarni o'chirish

Docker'ning rasmiy versiyasini o'rnatishdan oldin, tizimda bo'lishi mumkin bo'lgan norasmiy Docker paketlarini olib tashlash kerak — ular ziddiyat keltirib chiqarishi mumkin:

```bash
sudo apt remove $(dpkg --get-selections docker.io docker-compose docker-compose-v2 docker-doc podman-docker containerd runc | cut -f1)
```

<Callout type="info" emoji="">
`apt` bu paketlarning hech biri o'rnatilmaganligini aytishi mumkin — bu normal holat.

`/var/lib/docker/` papkasidagi imagelar, konteynerlar va volumelar Docker o'chirilganda avtomatik o'chirilmaydi.
</Callout>

### APT repository orqali o'rnatish

**1->** Docker'ning rasmiy GPG kaliti va APT repository'sini qo'shamiz:

```bash
# Docker'ning rasmiy GPG kalitini qo'shish
sudo apt update
sudo apt install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# APT source ro'yxatiga Docker repository'ni qo'shish
sudo tee /etc/apt/sources.list.d/docker.sources <<EOF
Types: deb
URIs: https://download.docker.com/linux/ubuntu
Suites: $(. /etc/os-release && echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}")
Components: stable
Signed-By: /etc/apt/keyrings/docker.asc
EOF

sudo apt update
```

<Callout type="info" emoji="">
**Bu buyruqlar nima qiladi?**
- GPG kalit — yuklab olinadigan paketlar haqiqiy Docker'dan ekanligini tasdiqlaydi
- APT source — `apt` paket menejeriga Docker'ning rasmiy repository manzilini beradi
- `${UBUNTU_CODENAME:-$VERSION_CODENAME}` — tizimingizning kodnomasini avtomatik aniqlaydi (masalan, `noble`, `jammy`)
</Callout>

**2->** Docker Engine va uning komponentlarini o'rnatamiz:

```bash
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

Bu yerda:
- `docker-ce` — Docker Engine (asosiy dvigatel)
- `docker-ce-cli` — Docker CLI (buyruq qatori interfeysi)
- `containerd.io` — konteyner runtime
- `docker-buildx-plugin` — kengaytirilgan build imkoniyatlari
- `docker-compose-plugin` — `docker compose` buyrug'i (multi-container ilovalar uchun)

**3->** Docker'ni ishga tushiramiz va tekshiramiz:

```bash
sudo systemctl start docker
sudo systemctl enable docker
sudo systemctl status docker
```

**4->** O'rnatish muvaffaqiyatli bo'lganini tekshiramiz:

```bash
sudo docker run hello-world
```

Bu buyruq test image yuklab, konteynerda ishga tushiradi. Ekranda "Hello from Docker!" xabari chiqsa — hammasi to'g'ri ishlayapti.

</TabPanel>
<TabPanel>
## Debian'ga Docker Engine o'rnatish

<Callout type="info" emoji="">
**OS talablari**

Docker Engine'ni o'rnatish uchun quyidagi **Debian** versiyalaridan biri kerak:

* **Debian Trixie 13 (stable)**
* **Debian Bookworm 12 (oldstable)**
* **Debian Bullseye 11 (oldoldstable)**

Qo'llab-quvvatlanadigan arxitekturalar: `x86_64` (`amd64`), `armhf` (`arm/v7`), `arm64`, `ppc64le` (`ppc64el`)
</Callout>

### Eski versiyalarni o'chirish

```bash
sudo apt remove $(dpkg --get-selections docker.io docker-compose docker-doc podman-docker containerd runc | cut -f1)
```

### APT repository orqali o'rnatish

**1->** Docker'ning rasmiy GPG kaliti va APT repository'sini qo'shamiz:

```bash
# Docker'ning rasmiy GPG kalitini qo'shish
sudo apt update
sudo apt install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# APT source ro'yxatiga Docker repository'ni qo'shish
sudo tee /etc/apt/sources.list.d/docker.sources <<EOF
Types: deb
URIs: https://download.docker.com/linux/debian
Suites: $(. /etc/os-release && echo "$VERSION_CODENAME")
Components: stable
Signed-By: /etc/apt/keyrings/docker.asc
EOF

sudo apt update
```

<Callout type="info" emoji="">
Agar siz **Kali Linux** kabi Debian-ga asoslangan distributiv ishlatayotgan bo'lsangiz, `$(. /etc/os-release && echo "$VERSION_CODENAME")` qismi to'g'ri ishlamasligi mumkin. Uni mos Debian kodnomasiga almashtiring, masalan: `bookworm`.
</Callout>

**2->** Docker Engine va komponentlarini o'rnatamiz:

```bash
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

**3->** Docker'ni ishga tushiramiz:

```bash
sudo systemctl start docker
sudo systemctl enable docker
sudo systemctl status docker
```

**4->** Tekshiramiz:

```bash
sudo docker run hello-world
```

</TabPanel>
<TabPanel>
## Fedora'ga Docker Engine o'rnatish

<Callout type="info" emoji="">
**OS talablari**

Docker Engine'ni o'rnatish uchun quyidagi **Fedora** versiyalaridan biri kerak:

* **Fedora 43**
* **Fedora 42**
* **Fedora 41**
</Callout>

### Eski versiyalarni o'chirish

Fedora'da Podman va eski Docker paketlari o'rnatilgan bo'lishi mumkin — ularni olib tashlaymiz:

```bash
sudo dnf remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine
```

### DNF repository orqali o'rnatish

**1->** Docker repository'ni qo'shamiz:

```bash
sudo dnf config-manager addrepo --from-repofile https://download.docker.com/linux/fedora/docker-ce.repo
```

**2->** Docker Engine va komponentlarini o'rnatamiz:

```bash
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

Agar GPG kalitini qabul qilish so'ralsa, fingerprint `060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35` ga mos kelishini tekshiring va qabul qiling.

<Callout type="info" emoji="">
Bu buyruq Docker'ni o'rnatadi, lekin **ishga tushirmaydi**. Shuningdek, `docker` guruhini yaratadi, ammo unga hech qanday foydalanuvchi qo'shmaydi.
</Callout>

**3->** Docker'ni ishga tushiramiz va avtomatik yuklanishini yoqamiz:

```bash
sudo systemctl enable --now docker
```

<Callout type="info" emoji="">
`enable --now` — bu `enable` va `start`ni bitta buyruqda bajaradi. Docker hozir ishga tushadi va tizim qayta yuklanganda ham avtomatik boshlanadi.
</Callout>

**4->** Tekshiramiz:

```bash
sudo docker run hello-world
```

</TabPanel>
<TabPanel>
## RHEL'ga Docker Engine o'rnatish

<Callout type="info" emoji="">
**OS talablari**

Docker Engine'ni o'rnatish uchun quyidagi **RHEL** versiyalaridan biri kerak:

* **RHEL 8**
* **RHEL 9**
* **RHEL 10**
</Callout>

### Eski versiyalarni o'chirish

```bash
sudo dnf remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine \
                  podman \
                  runc
```

### DNF repository orqali o'rnatish

**1->** Docker repository'ni qo'shamiz:

```bash
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/rhel/docker-ce.repo
```

**2->** Docker Engine va komponentlarini o'rnatamiz:

```bash
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

Agar GPG kalitini qabul qilish so'ralsa, fingerprint `060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35` ga mos kelishini tekshiring va qabul qiling.

**3->** Docker'ni ishga tushiramiz:

```bash
sudo systemctl enable --now docker
```

**4->** Tekshiramiz:

```bash
sudo docker run hello-world
```

</TabPanel>
</Tabs>

## O'rnatishdan keyingi sozlashlar

Docker o'rnatilgandan keyin bir nechta muhim sozlash qilish kerak.

### Root'siz Docker ishlatish

Default holatda Docker faqat `root` yoki `sudo` bilan ishlaydi. Oddiy foydalanuvchi sifatida Docker buyruqlarini bajarish uchun, foydalanuvchini `docker` guruhiga qo'shing:

```bash
sudo usermod -aG docker $USER
```

<Callout type="warning" emoji="">
Bu o'zgarish kuchga kirishi uchun **yangi terminal sessiyasi** ochish yoki tizimga qayta kirish kerak. Yoki hoziroq qo'llash uchun:

```bash
newgrp docker
```
</Callout>

Keyin tekshiring — `sudo` siz ishlashi kerak:

```bash
docker run hello-world
```

### Docker o'rnatishni tekshirish

DevOps Journey platformasi imageni ishga tushirib, Docker to'g'ri ishlayotganini tekshirib ko'ring:

```bash
docker run -d -p 3000:3000 --name devops-journey --restart=always devopsjourneyuz/devops-journey-uz:latest
```

Brauzerda `http://server_ip:3000` ochsangiz, DevOps Journey platformasi ko'rinishi kerak.

<Callout type="info" emoji="">
Agar sahifa ochilmasa, firewall tekshiring:

**ufw** (Ubuntu/Debian):
```bash
sudo ufw allow 3000
sudo ufw reload
```

**firewalld** (RHEL/Fedora):
```bash
sudo firewall-cmd --zone=public --add-port=3000/tcp --permanent
sudo firewall-cmd --reload
```

**SELinux** (RHEL/Fedora) — agar `enforcing` rejimda bo'lsa:
```bash
sudo getenforce
# Vaqtincha o'chirish (test uchun):
sudo setenforce 0
```
</Callout>

### Docker uchun proxy sozlash

<Callout type="info" emoji="">
Bu qadamni **faqat** serveringiz proxy orqali internetga chiqadigan bo'lsagina bajaring.
</Callout>

Agar kompaniyangizda serverlar proxy orqali ishlasa, Docker'ga ham proxy sozlamalarini berish kerak:

```bash
sudo mkdir -p /etc/systemd/system/docker.service.d
sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf
```

Fayl tarkibi:

```ini filename="http-proxy.conf"
[Service]
Environment="HTTP_PROXY=http://myproxy:port"
Environment="HTTPS_PROXY=http://myproxy:port"
Environment="NO_PROXY=localhost,127.0.0.1"
```

Qo'llaymiz:

```bash
sudo systemctl daemon-reload
sudo systemctl restart docker
```

Tekshirish:

```bash
docker info | grep -i proxy
```

## Docker Engine'ni yangilash

### APT orqali (Ubuntu/Debian)

Agar Docker'ni APT repository orqali o'rnatgan bo'lsangiz, yangilash oddiy:

```bash
sudo apt update
sudo apt upgrade docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### DNF orqali (Fedora/RHEL)

```bash
sudo dnf upgrade docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Convenience script orqali

Docker tez o'rnatish uchun skript ham taqdim etadi. Bu **faqat test va development** muhitlari uchun tavsiya etiladi:

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
```

<Callout type="warning" emoji="">
**Production muhitda bu skriptdan foydalanmang!** U parametrlarni moslash imkonini bermaydi va kutilmagan major version yangilanishlariga olib kelishi mumkin.

Skript nima qilishini oldindan ko'rish uchun:
```bash
sudo sh ./get-docker.sh --dry-run
```
</Callout>

Pre-release (beta) versiyalarni o'rnatish uchun:

```bash
curl -fsSL https://test.docker.com -o test-docker.sh
sudo sh test-docker.sh
```

## Docker Engine'ni o'chirib tashlash

<Tabs>
<TabList>
<Tab>**Ubuntu/Debian**</Tab>
<Tab>**Fedora/RHEL**</Tab>
</TabList>
<TabPanel>

**1->** Docker paketlarini o'chiramiz:

```bash
sudo apt purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
```

**2->** Imagelar, konteynerlar va volumelarni o'chiramiz:

```bash
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

**3->** Repository source va GPG kalitini o'chiramiz:

```bash
sudo rm /etc/apt/sources.list.d/docker.sources
sudo rm /etc/apt/keyrings/docker.asc
```

</TabPanel>
<TabPanel>

**1->** Docker paketlarini o'chiramiz:

```bash
sudo dnf remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
```

**2->** Imagelar, konteynerlar va volumelarni o'chiramiz:

```bash
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

</TabPanel>
</Tabs>

## Qo'shimcha

<Callout type="info" emoji="">

**Foydalanilgan manbalar:** [docs.docker.com](https://docs.docker.com/engine/install/)

**Sana:** 2023.11.19(2023-yil 19-noyabr)

**Oxirgi yangilanish:** 2026.02.12(2026-yil 12-fevral)

**Muallif: Otabek Ismoilov**

| [Telegram](https://t.me/Otabek_Ismoilov) | [GitHub](https://github.com/ismoilovdevml) | [LinkedIn](https://www.linkedin.com/in/otabek-ismoilov/) |
| - | - | - |

</Callout>
